
@model IEnumerable<ExpenseTracker.Domain.Models.Entities.ExpenseCategory>

@{
   ViewData["Title"] = "Index";
   Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="row">
   <div class="col-lg-8 offset-lg-2">
      <!--PAGE TITLE-->
      <div class="display-6">Expense Category List</div>
      <hr />

      <!--ALERT-->
      @if (TempData[ExpenseTracker.Utilities.Constants.MessageConstants.MessageKey] != null)
      {
         <div class="alert alert-danger alert-dismissible fade show mt-1" role="alert">
            <i class="bi bi-check-circle-fill"></i>&nbsp;@TempData[ExpenseTracker.Utilities.Constants.MessageConstants.MessageKey]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
         </div>
      }

      <!--EXPENSE CATEGORY-->
      <div class="card shadow-sm mb-1">
         <div class="card-body">
            <div class="row">

               <!--CREATE CATEGORY-->
               <div>
                  <a asp-action="Create" asp-controller="Category" class="btn btn-dark btn-sm float-start">
                     <i class="bi bi-plus-circle"></i>&nbsp;&nbsp;Add Category
                  </a>
               </div>
            </div>

            <!--TABLE-->
            <table class="table mt-2">
               <thead>
                  <tr>
                     <th>
                        Expense Category
                     </th>
                     <th></th>
                  </tr>
               </thead>

               <tbody>
                  @foreach (var item in Model)
                  {
                     <tr>
                        <td>
                           @Html.DisplayFor(modelItem => item.CategoryName)
                        </td>
 
                        <!--ACTION-->
                        <td>
                           <!--EDIT-->
                           <a asp-controller="Category" asp-action="Edit" asp-route-id="@item.ExpenseCategoryID" class="btn btn-sm btn-outline-dark mx-2">
                              <i class="bi bi-pencil-square"></i>&nbsp;Edit
                           </a>

                           <!--CATEGORY-->
                           <a asp-controller="Category" asp-action="Details" asp-route-id="@item.ExpenseCategoryID" class="btn btn-sm btn-outline-success">
                              &nbsp;View
                           </a>
                        </td>
                     </tr>
                  }
               </tbody>
            </table>
         </div>
      </div>

   </div>
</div>

<script type="text/javascript">
   window.setTimeout(function () {
       $('#alert').fadeOut('fast');
   }, 2000);
</script>