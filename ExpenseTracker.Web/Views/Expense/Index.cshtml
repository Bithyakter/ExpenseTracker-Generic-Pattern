
@model IEnumerable<ExpenseTracker.Domain.Models.Entities.Expense>

@{
   ViewData["Title"] = "Index";
   Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="row">
   <div class="col-lg-8 offset-lg-2">
      <!--PAGE TITLE-->
      <div class="display-6">Expense List</div>
      <hr />

      <!--ALERT-->
      @if (TempData[ExpenseTracker.Utilities.Constants.MessageConstants.MessageKey] != null)
      {
         <div class="alert alert-danger alert-dismissible fade show mt-1" role="alert">
            <i class="bi bi-check-circle-fill"></i>&nbsp;@TempData[ExpenseTracker.Utilities.Constants.MessageConstants.MessageKey]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
         </div>
      }

      <!--EXPENSE-->
      <div class="card shadow-sm mb-1">
         <div class="card-body">
            <div class="row">
               <!--CREATE EXPENSE-->
               <div>
                  <a asp-action="Create" asp-controller="Expense" class="btn btn-dark btn-sm float-start">
                     <i class="bi bi-plus-circle"></i>&nbsp;&nbsp;Add Expense
                  </a>
               </div>
            </div>

            <!--TABLE-->
            <table class="table mt-2">
               <thead>
                  <tr>
                     <th>
                        @Html.DisplayNameFor(model => model.ExpenseCategory.CategoryName)
                     </th>
                     <th>
                        @Html.DisplayNameFor(model => model.Amount)
                     </th>
                     <th>
                        @Html.DisplayNameFor(model => model.ExpenseDate)
                     </th>
                     <th></th>
                  </tr>
               </thead>

               <tbody>
                  @foreach (var item in Model)
                  {
                     <tr>
                        <td>
                           @Html.DisplayFor(modelItem => item.ExpenseCategory.CategoryName)
                        </td>
                        <td>
                           @Html.DisplayFor(modelItem => item.Amount)
                        </td>
                        <td>
                           @Html.DisplayFor(modelItem => item.ExpenseDate)
                        </td>

                        <!--ACTION-->
                        <td>
                           <!--EDIT-->
                           <a asp-controller="Expense" asp-action="Edit" asp-route-id="@item.ExpenseID" class="btn btn-sm btn-outline-dark mx-2">
                              <i class="bi bi-pencil-square"></i>&nbsp;Edit
                           </a>

                          @* <!--DELETE-->
                           <a asp-action="Delete" asp-route-id="@item.OID" class="btn btn-sm btn-outline-danger ">
                              <i class="bi bi-trash"></i>&nbsp;Delete
                           </a>*@

                           <!--PROVINCE-->
                           <a asp-controller="Expense" asp-action="Details" asp-route-id="@item.ExpenseID" class="btn btn-sm btn-outline-success">
                              &nbsp;View
                           </a>
                        </td>
                     </tr>
                  }
               </tbody>
            </table>
         </div>
      </div>

   </div>
</div>

<script type="text/javascript">
   window.setTimeout(function () {
       $('#alert').fadeOut('fast');
   }, 2000);
</script>